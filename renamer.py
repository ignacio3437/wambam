#!/usr/bin/python
import os,sys,re
filein=os.path.abspath("/Users/josec/Desktop/CrinoidDenovoTest/RAxML_bipartitions.Crinoids2016.newick")
filename=os.path.basename(filein)
pwd=os.path.dirname(filein)
rfilename="r_"+filename

codex="""Alloeocomatellapolycladia_PNG318,Alloeocomatella_polycladia_p318CHANGE
AntedonC122,Antedon_incommoda_C122CHANGE
AntedonidaeB_PNG435,Antedonidae_p435CHANGE
AntedonidaePNG420,Heliometrinae_p420CHANGE
AntedonidC176,TonrometraSEPR2_C176CHANGE
AntedonidC177,Anedonidae_C177CHANGE
AtelicrinusC134,Atelecrinus_cubensis_C134CHANGE
C040,Atopocrinus_sibogae_C040ACHANGE
C178,Thalassocrinus_sp_C178CHANGE
C187_Calamocrinusdiomedae,Calamocrinus_diomedae_C187CHANGE
C190,Bourgueticrinida_C190JCHANGE
C191,Bathyrcinus_sp_C191CHANGE
C195,Hyocrinus_sp_C195MCHANGE
C315,Comatula_pectinata_C315CHANGE
C335,Capillaster_multiradiatus_C335CHANGE
C408,Endoxocrinus_prionodes_C408CHANGE
C409,Endoxocrinus_prionodes_C409CHANGE
C410,Hyocrinus_sp_C410CHANGE
C419,Isocrinidae_C419CHANGE
C425,Antedon_petasus_C425CHANGE
C435,Horaeometra_duplex_C435CHANGE
C436,Endoxocrinus_cf_maclearanus_C436CHANGE
C439,Antedon_bifida_C439CHANGE
C440,Antedon_mediterreanea_C440CHANGE
C441,Antedon_mediterreanea_C441CHANGE
C453,Pentametrocrinus_japonicus_C453CHANGE
C454,Pterometra_pulcherrima_C454CHANGE
C456,Stenometra_quinquecostata_C456CHANGE
C461,Comatonia_cristata_C461CHANGE
C482,Pontiometra_sp_C482CHANGE
C485,Zygometra_C485CHANGE
Capillastermultiradiata_PNG130,Capillaster_multiradiata_p130CHANGE
CenocrinusC061,Cenocrinus_sp_C061ACHANGE
Cenometrabella_PNG220,Cenometra_bella_p220CHANGE
ChondrometraC130,Chondometra_sp_C130CHANGE
ClarkcomanthusalbinotisC180,Clarkcomanthus_albinotus_C180JCHANGE
Clarkcomanthusalbinotus_PNG027,Clarkcomanthus_albinotus_p027CHANGE
Colobometraperspinosa_PNG202,Colobometra_perspinosa_p202CHANGE
Colobometraperspinosa_PNG313,Colobometra_perspinosa_p313CHANGE
Comanthusalternans_PNG115,Comanthus_alternans_p115CHANGE
Comanthusparvicirrus_PNG335,Comanthus_parvicirrus_p335CHANGE
Comanthuswahlbergi_PNG146,Comanthus_wahlbergi_p146CHANGE
Comasterschlegelii_PNG224,Comaster_schlegelli_p224CHANGE
Comatellanigra_PNG124,Comatella_nigra_p124CHANGE
ComatularotalariaC090,Comatula_rotalaria_C090CHANGE
ComatulellabrachiolataC104T,Comatulella_branchiolata_C104CHANGE
CosmiometraC139,Cosmiometra_aster_C139CHANGE
Democrinus,Democrinus_brevis_C602CHANGE
Dorometra_PNG436,Antedon_cf_parviflora_p436CHANGE
HeliometraC071,Heliometra_glacialis_C071BCHANGE
HeterometraC091,Heterometra_crenulata_C091CHANGE
Himerometrarobustipinna_PNG120,Himerometra_robustipinna_p120CHANGE
HolopusrangiiC067,Holopus_rangii_C067CHANGE
HyocrinidaeC076,Hyocrinus_sp_C076CHANGE
Iso_C131,Endoxocrinus_alternicirrus_C131CHANGE
Lamprometrapalmata_PNG140,Lamprometra_palmata_p140CHANGE
Liparometra_PNG441,Liparometra_sp_p441CHANGE
Monachocrinus,Monachocrinus_sp_C416JCHANGE
MonachocrinuscaribbeusC036,Monachocrinus_caribbeus_C036CHANGE
Oxycomanthusbennetti_PNG101,Oxycomanthus_bennetti_p101CHANGE
PentametrocrinusC128,Pentametrocrinus_sp_C128CHANGE
Phanogeniatypica_PNG217,Phanogenia_typica_p217CHANGE
PorphyrocrinusC048,Porphyrocrinus_verrucosus_C048CHANGE
ProisocrinusC108,Proisocrinus_ruberrimus_C108CHANGE
Psathyrometra,Psathryometra_sp_C614CHANGE
Pterometra_PNG018,Pterometra_sp_p018CHANGE
S1125,Anthometra_adriani_S1125CHANGE
S1138,IsometraD_S1138CHANGE
S1281a,IsometraC_S1281CHANGE
S3911,Isometra_sp_S3911CHANGE
S6899,Isometra_sp_S6899CHANGE
S6962,Eumorphometra_S6962CHANGE
SPur,Strongylocentrotus_purpuratusCHANGE
StephanometraindicaB_PNG049,Stephanometra_indica_p049CHANGE
TropiometraC068,Tropiometra_afra_TaCHANGE
TropiometraC068,Tropiometra_afra_C068CHANGE
VityazicrinusC182,Vityazicrinus_sp_C182CHANGE
ZygometraC092,Zygometra_microdiscus_C092CHANGE"""
clist=codex.split('\n')
codexdict={}
for c in clist:
    pair=c.split(',')
    codexdict[pair[0]]=pair[1]

with open(filein,'r') as filein:
    with open(os.path.join(pwd,rfilename),'w') as fileout:
        instring=filein.read()
        # fileout.write(instring)
        for key in codexdict:
            instring=instring.replace(key,codexdict[key])
        # fileout.write("\n\n\n")
        instring=instring.replace("CHANGE","")
        fileout.write(instring)
print "done"
